<html xmlns:th="http://www.thymeleaf.org">
    <head>

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.tailwindcss.com"></script>
        <title>Cadastro do Candidato</title>
    </head>

    <body class="bg-gray-900 h-screen items-center flex justify-center">
        
        <form id="submitForm" action="" class="flex gap-24" th:action="@{/candidate/create}"  method="post" th:object="${candidate}" >
            
            <div class="space-y-8 bg-zinc-950 rounded-md p-20">

                <p class="text-white" >Candidato crie seu cadastro gratuitamente</p>

                <input type="text" name="username"
                th:fied="*{username}"
                 class="bg-gray-50 text-gray-900 text-xd rounded w-96 block p-3 focus:outline-none focus:ring-green-600 focus:ring-2" 
                 placeholder="Digite seu usuário">
                <input type="text" name="name" 
                th:fied="*{name}"
                class="bg-gray-50 text-gray-900 text-xd rounded w-96 block p-3 focus:outline-none focus:ring-green-600 focus:ring-2" 
                placeholder="Digite seu nome">

                <input type="email" name="email" 
                th:fied="*{email}"
                class="bg-gray-50 text-gray-900 text-xd rounded w-96 block p-3 focus:outline-none focus:ring-green-600 focus:ring-2" 
                placeholder="Email">
                <input type="password" name="password" id="password"
                th:fied="*{password}"
                 class=" bg-gray-50 text-gray-900 text-xd rounded w-96 block p-3 focus:outline-none focus:ring-green-600 focus:ring-2" placeholder="Senha">
                <input type="password" name="confirmPassword" id="confirmPassword" class="bg-gray-50 text-gray-900 text-xd rounded w-96 block p-3 focus:outline-none focus:ring-green-600 focus:ring-2" placeholder="Confirme sua senha">
                
                <textarea name="description" 
                th:fied="*{description}"
                class="bg-gray-50 text-gray-900 text-xd rounded w-96 block p-3 focus:outline-none focus:ring-green-600 focus:ring-2" placeholder="Digite uma breve descrição sobre você"></textarea>
                <p class="text-red-400" th:if="${error_message}" th:text="${error_message}"></p>
                <p class="text-red-400 hidden" id="password_error">As senhas não conferem</p>
                <button class="bg-green-900 w-96 p-4 rounded text-white hover:bg-green-700">Cadastre-se</button>
                <a href="/candidate/login" class="block text-center text-green-700 underline underline-offset-2 hover:text-green-600">Login</a>
            </div>

            <div class="text-white max-w-80 text-6xl flex items-center">
                Gestão de Vagas
            </div>
        </form>
        
    </body>

    <script>
        document.getElementById("submitForm").addEventListener("submit", (event) =>{
            var password = document.getElementById("password").value;
            var confirmPassword = document.getElementById("confirmPassword").value;

            if(password != confirmPassword){
                document.getElementById("password_error").classList.remove("hidden")
                event.preventDefault()
            }
        } )
    </script>
</html>